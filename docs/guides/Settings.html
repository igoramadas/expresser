<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Expresser - Settings</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-9331973-3"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-9331973-3');
</script><script>if (location.protocol.match(/^http/) && location.pathname.match('\.html') === null && location.pathname.slice(-1) !== '/') {
  location.href = location.href + '/';
}</script><link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script><script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]--><link href="../google-code-prettify/prettify.css" rel="stylesheet" type="text/css"><link href="../style.css" rel="stylesheet" type="text/css"><link href="../tocify/jquery.tocify.css" rel="stylesheet" type="text/css"></head><body data-spy="scroll" data-target=".sidebar"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#top-navigation-collapse"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div class="collapse navbar-collapse" id="top-navigation-collapse"><ul class="nav navbar-nav"><li><a href="../index.html">Home</a></li><li class="dropdown active"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Guides - Settings <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="../guides/App.html">App</a></li><li><a href="../guides/Errors.html">Errors</a></li><li><a href="../guides/Events.html">Events</a></li><li><a href="../guides/Logger.html">Logger</a></li><li><a href="../guides/Settings.html">Settings</a></li><li><a href="../guides/Utils.html">Utils</a></li></ul></li><li><a href="../classes/index.html">Classes</a></li><li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">Files <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="../files/app.coffee.html">app.coffee</a></li><li><a href="../files/errors.coffee.html">errors.coffee</a></li><li><a href="../files/events.coffee.html">events.coffee</a></li><li><a href="../files/index.coffee.html">index.coffee</a></li><li><a href="../files/logger.coffee.html">logger.coffee</a></li><li><a href="../files/settings.coffee.html">settings.coffee</a></li><li><a href="../files/utils.coffee.html">utils.coffee</a></li><li><a href="../files/aws.dynamodb.coffee.html">aws/dynamodb.coffee</a></li><li><a href="../files/aws.index.coffee.html">aws/index.coffee</a></li><li><a href="../files/aws.s3.coffee.html">aws/s3.coffee</a></li><li><a href="../files/aws.sns.coffee.html">aws/sns.coffee</a></li><li><a href="../files/cron.index.coffee.html">cron/index.coffee</a></li><li><a href="../files/downloader.index.coffee.html">downloader/index.coffee</a></li><li><a href="../files/gcloud.datastore.coffee.html">gcloud/datastore.coffee</a></li><li><a href="../files/gcloud.index.coffee.html">gcloud/index.coffee</a></li><li><a href="../files/gcloud.storage.coffee.html">gcloud/storage.coffee</a></li><li><a href="../files/logger-file.index.coffee.html">logger-file/index.coffee</a></li><li><a href="../files/logger-logentries.index.coffee.html">logger-logentries/index.coffee</a></li><li><a href="../files/logger-loggly.index.coffee.html">logger-loggly/index.coffee</a></li><li><a href="../files/mailer.index.coffee.html">mailer/index.coffee</a></li><li><a href="../files/mailer.templates.coffee.html">mailer/templates.coffee</a></li><li><a href="../files/metrics.httpserver.coffee.html">metrics/httpserver.coffee</a></li><li><a href="../files/metrics.index.coffee.html">metrics/index.coffee</a></li><li><a href="../files/metrics.percentile.coffee.html">metrics/percentile.coffee</a></li><li><a href="../files/mongodb.index.coffee.html">mongodb/index.coffee</a></li><li><a href="../files/sockets.index.coffee.html">sockets/index.coffee</a></li><li><a href="../files/utils.browser.coffee.html">utils/browser.coffee</a></li><li><a href="../files/utils.data.coffee.html">utils/data.coffee</a></li><li><a href="../files/utils.io.coffee.html">utils/io.coffee</a></li><li><a href="../files/utils.network.coffee.html">utils/network.coffee</a></li><li><a href="../files/utils.system.coffee.html">utils/system.coffee</a></li></ul></li></ul><div class="options"><label class="checkbox"><input id="options-private" type="checkbox"> Private</label></div></div></div></nav><div class="container-fluid content"><div class="row"><div class="hidden-xs col-sm-3"><div id="toc"></div></div><div class="col-sm-9"><div><h1 id="expresser-settings">Expresser: Settings</h1>
<p>This module holds all settings for all modules of Expresser and its relevant plugins. I can also be extended
and include your own custom settings.</p>
<p>The <em>settings.default.json</em> file is commented with all Expresser settings. Please check it for detailed instructions.</p>
<h3 id="how-to-overwrite-settings">How to overwrite settings</h3>
<p>You can overwrite settings in 3 different ways:</p>
<ul>
<li>by creating a <em>settings.json</em> or <em>settings.NODE_ENV.json</em> file on the root of your application.</li>
<li>by using the <code>loadFromJson</code> helper method passing the path to your custom settings file.</li>
<li>programmatically on your app code by doing <code>settings.some.else = mystuff</code>.</li>
</ul>
<p>Please note that when you call the main [url:expresser.init()|<a href="https://expresser.codeplex.com/SourceControl/latest#lib/expresser.coffee">https://expresser.codeplex.com/SourceControl/latest#lib/expresser.coffee</a>], it will automatically look for the {{ settings.json }} file and use it to override your app settings, so you don&#39;t need to do this manually.</p>
<p>Also remember that the Settings class is singleton: if you update a specific setting somewhere, it will reflect on all other parts of your application.</p>
<h3 id="per-environment-settings">Per-environment settings</h3>
<p>You can define specific settings for specific environments by using <code>settings.NODE_ENV.json</code> files.
For example <code>settings.development.json</code> will be loaded only on development and <code>settings.mydeploy.json</code>
will be loaded only on mydeploy.</p>
<h3 id="strategy-for-temporary-or-local-only-settings">Strategy for temporary or local-only settings</h3>
<p>If you wish to have settings that apply only to your development machine, we suggest you to create a file
<em>settings.local.json</em> and load it programatically on your app code. Then you can add that file to your
<em>.gitignore</em> (or equivalent) to avoid having it pushed to the source control, docker and other machines.
For example your <em>index.js</em> could have something like:</p>
<pre><code>var expresser = require (&quot;expresser&quot;);

// Load local settings and start the Expresser app.
expresser.settings.loadFromJson(&quot;settings.local.json&quot;);
expresser.init(settings);

myApp.init();
myApp.doSomething();

// Some more app init code here...
</code></pre><h3 id="appending-custom-settings-to-the-settings-class">Appending custom settings to the Settings class</h3>
<p>You can add as many custom settings as you want and use the Settings class as the main settings repository
for your app, as long as you make sure that there are no conflicts between your custom settings keys and
the ones used by Expresser. For example you could add the following &quot;theme&quot; block to the <code>settings.json</code>:</p>
<pre><code>{
    &quot;theme&quot;: {
        &quot;name&quot;: &quot;MyTheme:,
        &quot;location&quot;: &quot;/mytheme/&quot;,
        &quot;colours&quot;: [&quot;green&quot;, &quot;white&quot;, &quot;black&quot;]
    },
}
</code></pre><p>The above theme name &quot;MyTheme&quot; for example can be accessed via <code>expresser.settings.theme.name</code>, and colour
black is at <code>expresser.settings.theme.colours[2]</code>.</p>
<h3 id="resetting-to-default-settings">Resetting to default settings</h3>
<p>The <code>settings.reset()</code> method will create a new instance and reset all settings to their default initial state.
Custom values set programmatically will be cleared out.</p>
<hr>
</div></div></div></div><script src="https://code.jquery.com/jquery-3.2.1.min.js"></script><script src="../bootstrap/js/bootstrap.min.js"></script><script src="../google-code-prettify/prettify.js"></script><script src="../script.js"></script><script src="../group-examples.js"></script><script src="http://code.jquery.com/ui/1.9.0/jquery-ui.min.js"></script><script src="../tocify/jquery.tocify.js"></script><script>$(function() {
  $('#toc').tocify({extendPage:false, scrollTo:60});
});</script><a href="https://github.com/igoramadas/expresser"><img class="github-ribbon" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub"></a></body></html>